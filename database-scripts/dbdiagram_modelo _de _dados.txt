Project projectdocs {
  database_type: "MySQL"
}

Table tb_tipo_usuario {
  id int [pk, increment]
  descricao varchar(50) [not null, unique]
}

Table tb_usuario {
  id int [pk, increment]
  nome varchar(100) [not null]
  email varchar(150) [not null, unique]
  senha varchar(255) [not null]
  id_tipo_usuario int [not null]
  ativo boolean [not null, default: 1]
  data_criacao datetime [not null]
}

Table tb_projeto {
  id int [pk, increment]
  descricao varchar(255) [not null]
  data_inicio date
  data_fim date
  data_criacao datetime [not null]
}

Table tb_usuario_projeto {
  id int [pk, increment]
  id_usuario int [not null]
  id_projeto int [not null]

  indexes {
    (id_usuario, id_projeto) [unique]
  }
}

Table tb_conteudo {
  id int [pk, increment]
  id_projeto int [not null]
  tipo_conteudo varchar(50) [not null]
  conteudo text [not null]
  ordem_exibicao int
  data_criacao datetime [not null]
  data_edicao datetime
  id_usuario_criacao int [not null]
  id_usuario_edicao int
}

Table tb_contato {
  id int [pk, increment]
  id_projeto int [not null]
  id_usuario int [not null]
  mensagem text [not null]
  flg_lida boolean [not null, default: 0]
  data_envio datetime [not null]
}

Ref: tb_usuario.id_tipo_usuario > tb_tipo_usuario.id

Ref: tb_usuario_projeto.id_usuario > tb_usuario.id
Ref: tb_usuario_projeto.id_projeto > tb_projeto.id

Ref: tb_conteudo.id_projeto > tb_projeto.id
Ref: tb_conteudo.id_usuario_criacao > tb_usuario.id
Ref: tb_conteudo.id_usuario_edicao > tb_usuario.id

Ref: tb_contato.id_projeto > tb_projeto.id
Ref: tb_contato.id_usuario > tb_usuario.id